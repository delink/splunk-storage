<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("#calculate").click(function(){
        $("#results").hide();

        var indexers = $("#indexers").val();
        console.log(indexers);
        var repfactor = $("#repfactor").val();
        console.log(repfactor);
        var srchfactor = $("#srchfactor").val();
        console.log(srchfactor);
        var daily = $("#daily").val();
        console.log(daily);
        var retention = $("#retention").val();
        console.log(retention);
        var frozen = $("#frozen").val();
        console.log(frozen);

        var totalDailyData = ( daily * 0.15 * repfactor ) + (daily * 0.35 * srchfactor );
        var totalDailyPerIndexer = totalDailyData / indexers;
        var totalIndexerSize = totalDailyPerIndexer * retention;

        var totalDailyFrozen = daily * 0.15
        var totalDailyFrozenPerIndexer = totalDailyFrozen / indexers;
        var totalIndexerFrozen = totalDailyFrozenPerIndexer * frozen;

        $("#results").html("<table>")
            .append("<tr><td><b>Total Daily Data Per Indexer: </b></td><td>" + totalDailyPerIndexer + "GB</td></tr>")
            .append("<tr><td><b>Total Daily Frozen Data Per Indexer: </b></td><td>" + totalDailyFrozenPerIndexer + "GB</td></tr>")
            .append("<tr><td><b>Total Size Per Indexer: </b></td><td>" + (totalIndexerSize + totalIndexerFrozen) + "GB</td></tr>")
            .append("<tr><td><b>Total Overall Online Data: </b></td><td>" + (totalIndexerSize * indexers) + "GB</td></tr>")
            .append("<tr><td><b>Total Overall Frozen Data: </b></td><td>" + (totalIndexerFrozen * indexers) + "GB</td></tr>")
            .append("</table");

        $("#results").show();
    });
});
</script>
</head>
<body>

<div>
<h1>Cluster Settings</h1>
Number of Indexers: <input id="indexers" type="text" value="1" /><br />
Replication Factor: <input id="repfactor" type="text" value="1" /><br />
Search Factor: <input id="srchfactor" type="text" value="1" />
</div>

<div>
<h1>Retention Policy</h1>
Daily Data Rate (GB): <input id="daily" type="text" value="50" /><br />
Retention Time (days): <input id="retention" type="text" value="90" /><br />
Frozen Data Retention Time (days): <input id="frozen" type="text" value="180" />
</div>

<br />

<div>
<button id="calculate">Calculate</button>

<br /><br />

<span style="display: none;" id="results">foo</span>
</div>

</body>
</html>
